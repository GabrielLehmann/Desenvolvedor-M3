<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Desenvolvedor M3</title>
    <link rel="stylesheet" href="main.css" />
  </head>

  <body>
    <div class="content">
      <header>
        <img src="./img/logo-m3.png" alt="Logo-M3" />
        <div>
          <img src="./img/image 3.png" alt="product-bag" />
        </div>
      </header>

      <div class="combo-box">
        <select class="select">
          <option selected disabled hidden>Ordenar por</option>
          <option value="recentes">Mais recentes</option>
          <option value="menor-preco">Menor Preço</option>
          <option value="maior-preco">Maior Preço</option>
        </select>
      </div>

      <div class="products"></div>

      <footer>
        <div class="footer">
          <h2>M3: Implantação de E-commerce VTEX</h2>
        </div>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const select = document.querySelector(".select");
        const productsContainer = document.querySelector(".products");

        const products = [
          {
            nome: "CAMISETA MESCLA",
            preco: 28.0,
            parcelas: 3,
            valorParcela: 9.33,
            img: "img_2.png",
          },
          {
            nome: "SAIA EM COURO",
            preco: 398.0,
            parcelas: 10,
            valorParcela: 39.8,
            img: "img_3.png",
          },
          {
            nome: "CARDIGAN TIGRE",
            preco: 398.0,
            parcelas: 10,
            valorParcela: 39.8,
            img: "img_4.png",
          },
          {
            nome: "CARDIGAN OFF WHITE",
            preco: 99.9,
            parcelas: 3,
            valorParcela: 33.3,
            img: "img_5.png",
          },
          {
            nome: "BODY LEOPARDO",
            preco: 129.9,
            parcelas: 3,
            valorParcela: 43.43,
            img: "img_6.png",
          },
          {
            nome: "CASACO PELOS",
            preco: 398.0,
            parcelas: 10,
            valorParcela: 39.8,
            img: "img_7.png",
          },
          {
            nome: "CROPPED STRIPES",
            preco: 120.0,
            parcelas: 3,
            valorParcela: 40.0,
            img: "img_8.png",
          },
          {
            nome: "CAMISA TRANSPARENTE",
            preco: 398.0,
            parcelas: 10,
            valorParcela: 39.8,
            img: "img_9.png",
          },
          {
            nome: "CARDIGAN TIGRE",
            preco: 398.0,
            parcelas: 10,
            valorParcela: 39.8,
            img: "img_10.png",
          },
        ];

        function renderProducts(products) {
          productsContainer.innerHTML = "";

          products.forEach((product) => {
            const card = document.createElement("div");
            card.className = "product-card";
            card.innerHTML = `
            <img src="./img/${product.img}" alt="${product.nome}" />
            <h2>${product.nome}</h2>
            <span>R$ ${product.preco.toFixed(2)}</span>
            <p>até ${product.parcelas}x de R$${product.valorParcela.toFixed(
              2
            )}</p>
              <button class="buy-button"><p>COMPRAR</p></button>
              `;
            productsContainer.appendChild(card);
          });
        }

        function sortProducts(option) {
          const sortedProducts = [...products];

          switch (option) {
            case "recentes":
              break;
            case "menor-preco":
              sortedProducts.sort((a, b) => a.preco - b.preco);
              break;
            case "maior-preco":
              sortedProducts.sort((a, b) => b.preco - a.preco);
              break;
          }

          renderProducts(sortedProducts);
        }

        select.addEventListener("change", function () {
          const selectedOption = select.value;
          sortProducts(selectedOption);
        });

        renderProducts(products);
      });
    </script>
  </body>
</html>
